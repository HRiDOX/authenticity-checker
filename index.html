<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Authenticity Verification</title>
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#6b7280;
      --border:#e5e7eb;
      --accent:#16a34a;   /* green */
      --accent-2:#22c55e; /* green 2 */
      --accent-blue:#38bdf8; /* cyan-blue for subtle neon contrast */
      --shadow:0 8px 24px rgba(15,23,42,.06), 0 2px 8px rgba(15,23,42,.04);
      --neon-soft: 0 0 0 1px rgba(34,197,94,.25), 0 0 24px rgba(34,197,94,.22);
      --neon-soft-blue: 0 0 0 1px rgba(56,189,248,.22), 0 0 20px rgba(56,189,248,.18);
      --toast-bg: #0b1220;
      --toast-border: rgba(56,189,248,.35);
      --toast-glow: 0 0 0 1px rgba(56,189,248,.25), 0 0 22px rgba(56,189,248,.28), 0 0 40px rgba(34,197,94,.18);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 500px at 50% -10%, rgba(56,189,248,.06), transparent 60%),
        radial-gradient(800px 360px at 100% 0%, rgba(34,197,94,.05), transparent 50%),
        var(--bg);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      display:flex; align-items:center; justify-content:center; padding:20px;
    }
    .wrap{ width:min(980px, 96vw); }
    header{ display:flex; align-items:center; gap:12px; margin-bottom:14px; }
    .logo{
      width:38px; height:38px; border-radius:12px; display:grid; place-items:center; color:#fff;
      background:linear-gradient(160deg, var(--accent), var(--accent-2));
      box-shadow: var(--neon-soft);
    }
    header h1{ margin:0; letter-spacing:-.02em; font-size: clamp(22px, 3.2vw, 34px); }
    header .sub{ color:var(--muted); font-size: 14px; }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow: var(--shadow);
      padding: 26px;
      overflow:hidden;
      position:relative;
    }
    .card::after{
      content:""; position:absolute; inset:-1px; border-radius:17px; pointer-events:none;
      box-shadow:
        0 0 0 1px rgba(56,189,248,.25),
        0 0 30px rgba(56,189,248,.18),
        0 0 46px rgba(15, 23, 42, .12);
    }

    .stepper{
      display:flex; align-items:center; justify-content:center; gap:16px; margin:6px 0 18px;
    }
    .step{
      display:flex; align-items:center; gap:10px; font-weight:700; font-size:13px;
      color:var(--muted); transition: filter .2s ease, opacity .2s ease;
      filter: grayscale(.2) saturate(.9); opacity:.45;
    }
    .step .dot{ width:10px; height:10px; border-radius:999px; background:#d1d5db; box-shadow:none; }
    .sep{ height:2px; width:48px; background:#e5e7eb; border-radius:999px; opacity:.6; }
    .step.active{
      color:#0b1220; opacity:1; filter:none;
      text-shadow: 0 0 10px rgba(56,189,248,.18);
    }
    .step.active .dot{
      background: linear-gradient(135deg, var(--accent), var(--accent-blue));
      box-shadow: 0 0 0 2px rgba(34,197,94,.18), 0 0 16px rgba(56,189,248,.22);
    }
    .sep.active{
      background:linear-gradient(90deg, var(--accent), var(--accent-blue));
      box-shadow: 0 0 14px rgba(56,189,248,.2);
      opacity:1;
    }

    .section{ display:none; } .section.show{ display:block; }

    .scanbox{ display:grid; place-items:center; padding:16px 0 8px; }
    .radar{
      position:relative; width:160px; height:160px; margin-bottom:14px;
      border-radius:50%;
      background:
        radial-gradient(closest-side, rgba(56,189,248,.18), rgba(56,189,248,0) 70%),
        radial-gradient(farthest-side, rgba(34,197,94,.10), transparent 55%);
      box-shadow:
        0 0 32px rgba(56,189,248,.24),
        inset 0 0 18px rgba(56,189,248,.15);
      overflow:hidden;
      filter:saturate(1.05);
    }
    .radar::before{
      content:""; position:absolute; inset:0; border-radius:50%;
      background:
        conic-gradient(from 0deg, rgba(56,189,248,.70) 0deg, rgba(56,189,248,.15) 35deg, rgba(56,189,248,0) 65deg);
      animation:spin 4.6s linear infinite;
      mask: radial-gradient(circle at 50% 50%, rgba(0,0,0,1) 60%, rgba(0,0,0,.8) 70%, rgba(0,0,0,0) 100%);
    }
    .radar::after{
      content:""; position:absolute; inset:16px; border-radius:50%;
      border: 1px dashed rgba(56,189,248,.35);
      box-shadow: inset 0 0 12px rgba(56,189,248,.18);
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    .progress{
      width:100%; height:12px; border-radius:999px; overflow:hidden;
      background:#eef2f7; border:1px solid #e5eaf0;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.5);
    }
    .bar{
      height:100%; width:0%; background:linear-gradient(90deg,var(--accent), var(--accent-blue));
      transition: width .26s linear;
      box-shadow: 0 0 16px rgba(56,189,248,.25);
    }
    .pct{ margin-top:8px; text-align:center; color:var(--muted); font-size: 13px; }

    .verify{ display:grid; place-items:center; gap:12px; padding:12px 0; }
    .pulse{
      width:min(380px, 90%); height:10px; border-radius:999px; overflow:hidden;
      background:#eef2f7; border:1px solid #e5eaf0;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.5);
    }
    .pulse span{
      display:block; width:100%; height:100%; background: linear-gradient(90deg, rgba(34,197,94,.35), rgba(56,189,248,.35));
      animation:pulse 1.2s ease-in-out infinite;
      box-shadow: 0 0 16px rgba(34,197,94,.2);
    }
    @keyframes pulse{ 0%,100%{opacity:.55} 50%{opacity:1} }

    .success{ display:grid; gap:16px; justify-items:center; padding-top:2px; }
    .badge{
      display:flex; align-items:center; gap:12px; padding:12px 16px; border-radius:999px;
      background: linear-gradient(135deg, rgba(13,148,136,.16), rgba(34,197,94,.14));
      border:1px solid rgba(16,185,129,.35);
      box-shadow: inset 0 0 0 1px rgba(56,189,248,.10), 0 6px 18px rgba(16,185,129,.18);
    }
    .shield{
      width:38px; height:38px; border-radius:10px; display:grid; place-items:center; color:#fff;
      background:linear-gradient(160deg, var(--accent), var(--accent-blue));
      box-shadow: 0 0 16px rgba(56,189,248,.28);
    }
    .badge .txt{ line-height:1.1; }
    .badge .txt b{ display:block; color:#0b7a4c; }
    .badge .txt small{ color:#0ea5e9; text-transform:uppercase; letter-spacing:.06em; font-weight:800; }

    .sku{ width:100%; background:#fbfcfe; border:1px solid var(--border); border-radius:12px; padding:14px; }
    .sku .row{ display:flex; align-items:center; justify-content:center; flex-wrap:wrap; gap:12px; }
    .k{ background:#e8f7ee; color:#059669; border:1px solid #cdeedd; border-radius:6px; padding:6px 8px; font-size:11px; text-transform:uppercase; font-weight:800; }
    code{ font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; color:#0f172a; font-size:15px; word-break:break-all; }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:12px; }
    .btn{
      padding:10px 16px; border-radius:10px; border:1px solid #e5e7eb; background:#fff; color:#111827; cursor:pointer;
      font-weight:700; font-size:14px; transition: box-shadow .15s ease, transform .06s ease, border-color .15s ease;
    }
    .btn:hover{ box-shadow: 0 6px 16px rgba(0,0,0,.07); }
    .btn:active{ transform: translateY(1px); }
    .primary{ background:linear-gradient(135deg, var(--accent), var(--accent-blue)); color:#fff; border-color: transparent; box-shadow: 0 0 16px rgba(56,189,248,.22); }

    footer{ margin-top:16px; text-align:center; color:#94a3b8; font-size:12px; }

    /* === Corner TOASTS === */
    .toast{
      position: fixed;
      top: 16px; right: 16px;
      z-index: 50;
      background: #0b1220;
      color: #e5f6ff;
      border: 1px solid rgba(56,189,248,.35);
      border-radius: 12px;
      padding: 12px 14px;
      display: none;
      align-items: center;
      gap: 12px;
      box-shadow: 0 0 0 1px rgba(56,189,248,.25), 0 0 22px rgba(56,189,248,.28), 0 0 40px rgba(34,197,94,.18);
      max-width: 420px;
    }
    .toast.show{ display: flex; }
    .toast-title{ font-weight: 800; font-size: 14px; margin: 0; }
    .toast-sub{ font-size: 12px; margin: 2px 0 0; color: #cfe8ff; }
    .toast .spinner{
      width: 26px; height: 26px; border-radius: 50%;
      border: 3px solid rgba(148,163,184,.35); border-top-color: #22c55e;
      animation: spin 1s linear infinite;
      flex: none;
    }
    .check{
      width: 26px; height: 26px; border-radius: 50%;
      display:grid; place-items:center; background: linear-gradient(135deg,#16a34a,#38bdf8);
      box-shadow: 0 0 16px rgba(34,197,94,.35);
      color:#fff; font-weight:900; font-size:15px;
      transform: scale(.9); animation: pop .4s ease forwards;
    }
    @keyframes pop{ to{ transform:scale(1);} }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    @media (max-width: 520px){
      .card{ padding: 18px; }
      .radar{ width:140px; height:140px; }
      .wrap{ width: 100%; }
      header{ align-items: flex-start; }
      header .sub{ font-size: 13px; }
      .toast{ top:12px; right:12px; left:12px; max-width:none; justify-content:flex-start; }
    }
  </style>
</head>
<body>
  <!-- Scan toast -->
  <div id="toast-scan" class="toast" role="status" aria-live="polite">
    <div class="spinner" aria-hidden="true"></div>
    <div>
      <p class="toast-title">Connecting to server…</p>
      <p class="toast-sub">Establishing secure channel & preparing the scan.</p>
    </div>
  </div>

  <!-- Verify toast -->
  <div id="toast-verify" class="toast" role="status" aria-live="polite">
    <div class="spinner" aria-hidden="true"></div>
    <div>
      <p class="toast-title">Recognizing product…</p>
      <p class="toast-sub">Matching label & metadata for signature verification.</p>
    </div>
  </div>

  <!-- Success toast (auto-hide 7s) -->
  <div id="toast-success" class="toast" role="status" aria-live="polite">
    <div class="check" aria-hidden="true">✓</div>
    <div>
      <p class="toast-title">Product recognition successful!</p>
      <p class="toast-sub">Authenticity verified and SKU generated.</p>
    </div>
  </div>

  <div class="wrap" role="main">
    <header>
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="white" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 3l7 4v5c0 5-3.5 7.5-7 9-3.5-1.5-7-4-7-9V7l7-4z"></path>
        </svg>
      </div>
      <div>
        <h1>Authenticity Verification</h1>
        <div class="sub">On-device check with a unique SKU on every scan.</div>
      </div>
    </header>

    <div class="card" aria-live="polite">
      <div class="stepper" aria-hidden="true">
        <div class="step active" id="s1"><span class="dot"></span>Scan</div>
        <div class="sep" id="sep1"></div>
        <div class="step" id="s2"><span class="dot"></span>Verify</div>
        <div class="sep" id="sep2"></div>
        <div class="step" id="s3"><span class="dot"></span>Result</div>
      </div>

      <section id="scan" class="section show">
        <div class="scanbox">
          <div class="radar" aria-hidden="true"></div>
          <div class="progress"><div class="bar" id="bar"></div></div>
          <div class="pct" id="pct">0%</div>
        </div>
      </section>

      <section id="verify" class="section">
        <div class="verify">
          <small class="muted">Verifying cryptographic signature…</small>
          <div class="pulse"><span></span></div>
        </div>
      </section>

      <section id="success" class="section">
        <div class="success">
          <div class="badge" role="status" aria-label="Product verified as genuine">
            <span class="shield">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="white" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 6L9 17l-5-5" />
              </svg>
            </span>
            <span class="txt"><small>Verified</small><b>This product is genuine</b></span>
          </div>

          <div class="sku">
            <div class="row">
              <span class="k">SKU</span>
              <code id="sku"></code>
            </div>
            <div class="actions" role="group" aria-label="Actions">
              <button id="copy" class="btn">Copy</button>
              <button id="share" class="btn">Share</button>
              <button id="rescan" class="btn primary">Re‑scan</button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <footer>© <span id="y"></span> Your Brand • Authenticity you can trust</footer>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    function generateSku(len = 28){
      const t = new Date();
      const stamp = [
        t.getFullYear().toString().slice(-2),
        String(t.getMonth()+1).padStart(2,'0'),
        String(t.getDate()).padStart(2,'0'),
        '-',
        String(t.getHours()).padStart(2,'0'),
        String(t.getMinutes()).padStart(2,'0'),
        String(t.getSeconds()).padStart(2,'0')
      ].join('');
      const alphabet = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
      let body = "";
      for(let i=0;i<len;i++) body += alphabet[Math.floor(Math.random()*alphabet.length)];
      return `SKU-${stamp}-${body}`;
    }

    function scramble(finalText, cb, speed=20){
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-";
      const target = finalText.split("");
      let frame = 0;
      const timer = setInterval(()=>{
        frame++;
        const out = target.map((ch,i)=>{
          if(ch === " ") return " ";
          const progress = Math.max(0, frame - i*2);
          if(progress > 8) return ch;
          return chars[Math.floor(Math.random()*chars.length)];
        }).join("");
        cb(out);
        if(out === finalText) clearInterval(timer);
      }, speed);
    }

    const scan = document.getElementById('scan');
    const verify = document.getElementById('verify');
    const success = document.getElementById('success');
    const bar = document.getElementById('bar');
    const pct = document.getElementById('pct');
    const skuEl = document.getElementById('sku');

    const s1 = document.getElementById('s1'), s2 = document.getElementById('s2'), s3 = document.getElementById('s3');
    const sep1 = document.getElementById('sep1'), sep2 = document.getElementById('sep2');

    const toastScan    = document.getElementById('toast-scan');
    const toastVerify  = document.getElementById('toast-verify');
    const toastSuccess = document.getElementById('toast-success');

    const show = (el)=>{ [scan,verify,success].forEach(x=>x.classList.remove('show')); el.classList.add('show'); }
    const setStep = (n)=>{
      [s1,s2,s3].forEach(s=>s.classList.remove('active'));
      [sep1,sep2].forEach(se=>se.classList.remove('active'));
      if(n===1){ s1.classList.add('active'); }
      if(n===2){ s2.classList.add('active'); sep1.classList.add('active'); }
      if(n===3){ s3.classList.add('active'); sep1.classList.add('active'); sep2.classList.add('active'); }
    }
    const showToast = (el)=> el.classList.add('show');
    const hideToast = (el)=> el.classList.remove('show');

    let currentSku = "";

    function startScan(){
      setStep(1); show(scan);
      currentSku = generateSku();

      showToast(toastScan);

      let p = 0;
      const timer = setInterval(()=>{
        p = Math.min(100, p + (0.8 + Math.random()*1.9));
        bar.style.width = p + '%';
        pct.textContent = Math.round(p) + '%';
        if(p >= 100){
          clearInterval(timer);
          setTimeout(startVerify, 500);
        }
      }, 200);
    }

    function startVerify(){
      setStep(2); show(verify);
      hideToast(toastScan);
      showToast(toastVerify);
      setTimeout(showSuccess, 2500);
    }

    function showSuccess(){
      setStep(3); show(success);
      hideToast(toastVerify);
      scramble(currentSku, txt => skuEl.textContent = txt, 22);
      showToast(toastSuccess);
      setTimeout(()=> hideToast(toastSuccess), 7000);
    }

    document.getElementById('copy').addEventListener('click', ()=>{
      navigator.clipboard.writeText(currentSku).then(()=>{
        const b = document.getElementById('copy'); const x = b.textContent;
        b.textContent = 'Copied'; setTimeout(()=> b.textContent = x, 1100);
      });
    });
    document.getElementById('share').addEventListener('click', ()=>{
      const text = `Product verified as genuine.\n${currentSku}`;
      if(navigator.share){
        navigator.share({ title:'Product Authenticity', text }).catch(()=>{});
      }else{
        navigator.clipboard.writeText(text).then(()=>{
          const b = document.getElementById('share'); const x = b.textContent;
          b.textContent = 'Copied'; setTimeout(()=> b.textContent = x, 1100);
        });
      }
    });
    document.getElementById('rescan').addEventListener('click', startScan);

    startScan();
  </script>
</body>
</html>
